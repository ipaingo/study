<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Похожие решения</title>
<style type="text/css">
* {padding-top:0;margin-top:0;border-top:0;}
.Common {background-color: #ff9999;}
tr, td {vertical-align: top; border-left: 1px solid #ddd;border-bottom: 1px solid #ddd;}
th {background-color: #ddd}
</style>
</head>
<body>
<pre>
<table valign="top">
<tr><th>j</th><th>s</th></tr><tr><td><span class="Common">using</span><span class="Common"> </span><span class="Common">NUnit</span><span class="Common">.</span><span class="Common">Framework</span><span class="Common">.</span><span class="Common">Constraints</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">.</span><span class="Common">Generic</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Xml</span><span class="Common">.</span><span class="Common">Linq</span><span class="Common">;</span><span class="Common">

</span><span class="Common">namespace</span><span class="Common"> </span><span class="Common">BinaryTrees</span><span class="Common">;</span><span class="Common">

</span><span class="Common">public</span><span class="Common"> </span><span class="Common">class</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">where</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IComparable</span><span class="Common"> </span><span class="Common">{</span><span class="Common">
    </span><span class="Common">public</span><span class="Specific"> </span><span class="Specific">class</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Specific"> </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">value</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">public</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Specific"> </span><span class="Specific">left</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Specific"> </span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">len</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Specific">

    </span><span class="Specific">Node</span><span class="Specific"> </span><span class="Specific">root</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">;</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">void</span><span class="Common"> </span><span class="Common">Add</span><span class="Common">(</span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">node</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">root</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">root</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Common">(</span><span class="Specific">)</span><span class="Specific">;</span><span class="Specific">
            </span><span class="Specific">root</span><span class="Specific">.</span><span class="Common">value</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">node</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">return</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Specific">

        </span><span class="Specific">var</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">len</span><span class="Common">+</span><span class="Common">+</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Common">.</span><span class="Common">CompareTo</span><span class="Common">(</span><span class="Specific">node</span><span class="Common">)</span><span class="Common"> </span><span class="Common"><</span><span class="Common"> </span><span class="Common">0</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Common">;</span><span class="Specific">
                </span><span class="Specific">}</span><span class="Specific"> </span><span class="Common">else</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Common">(</span><span class="Specific">)</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific">.</span><span class="Specific">left</span><span class="Specific">.</span><span class="Common">value</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">node</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">break</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common"> </span><span class="Common">else</span><span class="Common"> </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Common">;</span><span class="Specific">
                </span><span class="Specific">}</span><span class="Specific"> </span><span class="Common">else</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Common">(</span><span class="Specific">)</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific">.</span><span class="Specific">right</span><span class="Specific">.</span><span class="Common">value</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">node</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">break</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">bool</span><span class="Common"> </span><span class="Common">Contains</span><span class="Common">(</span><span class="Common">T</span><span class="Common"> </span><span class="Common">key</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
        </span><span class="Specific">var</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Specific">.</span><span class="Specific">Equals</span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">return</span><span class="Common"> </span><span class="Common">true</span><span class="Common">;</span><span class="Specific">

            </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Specific">.</span><span class="Specific">value</span><span class="Specific">.</span><span class="Specific">CompareTo</span><span class="Specific">(</span><span class="Specific">key</span><span class="Specific">)</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific"> </span><span class="Common">0</span><span class="Specific"> </span><span class="Specific">?</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Specific"> </span><span class="Specific">:</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Specific">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">return</span><span class="Common"> </span><span class="Common">false</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">GetEnumerator</span><span class="Common">(</span><span class="Specific">root</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">private</span><span class="Common"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">GetEnumerator</span><span class="Common">(</span><span class="Common">Node</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">break</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">r</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">GetEnumerator</span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">r</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">r</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">l</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">GetEnumerator</span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">l</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">l</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">IEnumerator</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common">.</span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">this</span><span class="Common">[</span><span class="Common">int</span><span class="Common"> </span><span class="Common">i</span><span class="Common">]</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">get</span><span class="Common">
        </span><span class="Common">{</span><span class="Common">
            </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">cur_len</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">0</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Common">true</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">cur_index</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Specific"> </span><span class="Specific">?</span><span class="Specific"> </span><span class="Specific">0</span><span class="Specific"> </span><span class="Specific">:</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Common">.</span><span class="Specific">len</span><span class="Specific">)</span><span class="Specific"> </span><span class="Common">+</span><span class="Specific"> </span><span class="Specific">cur_len</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common">=</span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur_index</span><span class="Common">)</span><span class="Common">
                    </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common"><</span><span class="Specific"> </span><span class="Specific">cur_index</span><span class="Common">)</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">cur_len</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur_index</span><span class="Specific"> </span><span class="Common">+</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">
</span><span class="Common">}</span></td><td><span class="Common">using</span><span class="Common"> </span><span class="Common">NUnit</span><span class="Common">.</span><span class="Common">Framework</span><span class="Common">.</span><span class="Common">Constraints</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">.</span><span class="Common">Generic</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Xml</span><span class="Common">.</span><span class="Common">Linq</span><span class="Common">;</span><span class="Common">

</span><span class="Common">namespace</span><span class="Common"> </span><span class="Common">BinaryTrees</span><span class="Common">;</span><span class="Common">
</span><span class="Common">public</span><span class="Common"> </span><span class="Common">class</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">where</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IComparable</span><span class="Common">
</span><span class="Common">{</span><span class="Common">

    </span><span class="Common">public</span><span class="Specific"> </span><span class="Specific">T</span><span class="Specific"> </span><span class="Specific">Value</span><span class="Specific"> </span><span class="Common">{</span><span class="Specific"> </span><span class="Specific">get</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">set</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Common">public</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Common">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">LeftSon</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Specific">get</span><span class="Common">;</span><span class="Specific"> </span><span class="Specific">set</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Common">public</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Specific">get</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">set</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">Length</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Specific">get</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">set</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific">(</span><span class="Specific">)</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific">(</span><span class="Specific">T</span><span class="Specific"> </span><span class="Specific">value</span><span class="Specific">)</span><span class="Specific">
    </span><span class="Specific">{</span><span class="Specific">
        </span><span class="Specific">Value</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">value</span><span class="Specific">;</span><span class="Specific">
        </span><span class="Specific">LeftSon</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Common">null</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">Length</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Specific">

    </span><span class="Specific">private</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">init</span><span class="Common">;</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">void</span><span class="Common"> </span><span class="Common">Add</span><span class="Common">(</span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">value</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">init</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">init</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Common">(</span><span class="Common">value</span><span class="Specific">)</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">return</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Specific">

        </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">init</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">Length</span><span class="Common">+</span><span class="Common">+</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">Value</span><span class="Common">.</span><span class="Common">CompareTo</span><span class="Common">(</span><span class="Specific">value</span><span class="Common">)</span><span class="Common"> </span><span class="Common"><</span><span class="Common"> </span><span class="Common">0</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Common">(</span><span class="Common">value</span><span class="Specific">)</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">return</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">else</span><span class="Common">
            </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Common">(</span><span class="Common">value</span><span class="Specific">)</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">return</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">bool</span><span class="Common"> </span><span class="Common">Contains</span><span class="Common">(</span><span class="Common">T</span><span class="Common"> </span><span class="Common">key</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Specific">
        </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">init</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">compareResult</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">key</span><span class="Common">.</span><span class="Specific">CompareTo</span><span class="Common">(</span><span class="Specific">current</span><span class="Specific">.</span><span class="Specific">Value</span><span class="Common">)</span><span class="Specific">;</span><span class="Specific">

            </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">compareResult</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">0</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">return</span><span class="Common"> </span><span class="Common">true</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">else</span><span class="Specific"> </span><span class="Specific">if</span><span class="Specific"> </span><span class="Common">(</span><span class="Specific">compareResult</span><span class="Specific"> </span><span class="Specific">></span><span class="Specific"> </span><span class="Common">0</span><span class="Specific">)</span><span class="Specific">
                </span><span class="Specific">current</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Specific">;</span><span class="Specific">
            </span><span class="Specific">else</span><span class="Specific">
                </span><span class="Specific">current</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">

        </span><span class="Common">return</span><span class="Common"> </span><span class="Common">false</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">EnumeratorNode</span><span class="Common">(</span><span class="Specific">init</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">private</span><span class="Common"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">EnumeratorNode</span><span class="Common">(</span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Common">Node</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">Node</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">break</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">EnumeratorNode</span><span class="Common">(</span><span class="Specific">Node</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">right</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">right</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Common">.</span><span class="Specific">Value</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">left</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">EnumeratorNode</span><span class="Common">(</span><span class="Specific">Node</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">left</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">left</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">IEnumerator</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common">.</span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">this</span><span class="Common">[</span><span class="Common">int</span><span class="Common"> </span><span class="Common">i</span><span class="Common">]</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">get</span><span class="Common">
        </span><span class="Common">{</span><span class="Common">
            </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">init</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">currentLength</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">0</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">currentIndex</span><span class="Specific">;</span><span class="Specific">

            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Common">true</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">if</span><span class="Specific"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Specific">)</span><span class="Specific">
                    </span><span class="Specific">currentIndex</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">currentLength</span><span class="Specific">;</span><span class="Specific">
                </span><span class="Specific">else</span><span class="Specific">
                    </span><span class="Specific">currentIndex</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">.</span><span class="Specific">Length</span><span class="Specific"> </span><span class="Common">+</span><span class="Specific"> </span><span class="Specific">currentLength</span><span class="Common">;</span><span class="Common">

                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common">=</span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentIndex</span><span class="Common">)</span><span class="Common">
                    </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">Value</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common"><</span><span class="Specific"> </span><span class="Specific">currentIndex</span><span class="Common">)</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">currentLength</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentIndex</span><span class="Specific"> </span><span class="Common">+</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">
</span><span class="Common">}</span><span class="Specific">
</span></td></tr><tr><th>a</th><th>s</th></tr><tr><td><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">.</span><span class="Common">Generic</span><span class="Common">;</span><span class="Common">

</span><span class="Common">namespace</span><span class="Common"> </span><span class="Common">BinaryTrees</span><span class="Specific">
</span><span class="Specific">{</span><span class="Specific">
    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">class</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">where</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IComparable</span><span class="Common">
    </span><span class="Common">{</span><span class="Specific">
        </span><span class="Specific">private</span><span class="Specific"> </span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">valueNode</span><span class="Common">;</span><span class="Specific">               </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Значение</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
        </span><span class="Specific">private</span><span class="Specific"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">leftSon</span><span class="Common">;</span><span class="Specific">     </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Левый</span><span class="Specific"> </span><span class="Specific">потомок</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
        </span><span class="Specific">private</span><span class="Specific"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">rightSon</span><span class="Common">;</span><span class="Specific">    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Правый</span><span class="Specific"> </span><span class="Specific">потомок</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
        </span><span class="Specific">private</span><span class="Specific"> </span><span class="Specific">bool</span><span class="Specific"> </span><span class="Specific">initialized</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">false</span><span class="Common">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Флаг</span><span class="Specific"> </span><span class="Specific">инициализации</span><span class="Specific"> </span><span class="Specific">дерева</span><span class="Specific">

        </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">weight</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">1</span><span class="Common">;</span><span class="Specific">                    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Номер</span><span class="Specific"> </span><span class="Specific">элемента</span><span class="Specific">

        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Common"> </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common">(</span><span class="Common">T</span><span class="Common"> </span><span class="Common">value</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">valueNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">value</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">initialized</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">true</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Specific">

        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Добавление</span><span class="Specific"> </span><span class="Specific">нового</span><span class="Specific"> </span><span class="Specific">элемента</span><span class="Specific"> </span><span class="Specific">с</span><span class="Specific"> </span><span class="Specific">ключом</span><span class="Specific"> </span><span class="Specific">key</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">дерево</span><span class="Specific">
        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">void</span><span class="Common"> </span><span class="Common">Add</span><span class="Common">(</span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">key</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Common">
            </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">!</span><span class="Specific">initialized</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">valueNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">key</span><span class="Common">;</span><span class="Specific">    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Если</span><span class="Specific"> </span><span class="Specific">дерево</span><span class="Specific"> </span><span class="Specific">не</span><span class="Specific"> </span><span class="Specific">инициализировано</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">создаем</span><span class="Specific"> </span><span class="Specific">корневой</span><span class="Specific"> </span><span class="Specific">узел</span><span class="Specific">
                </span><span class="Specific">initialized</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">true</span><span class="Specific">;</span><span class="Specific">
                </span><span class="Common">return</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">

            </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">this</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Поиск</span><span class="Specific"> </span><span class="Specific">места</span><span class="Specific"> </span><span class="Specific">для</span><span class="Specific"> </span><span class="Specific">вставки</span><span class="Specific">
            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">true</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">weight</span><span class="Common">+</span><span class="Common">+</span><span class="Common">;</span><span class="Specific">            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Увеличение</span><span class="Specific"> </span><span class="Specific">номера</span><span class="Specific"> </span><span class="Specific">элемента</span><span class="Specific">

                </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">compare</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">valueNode</span><span class="Common">.</span><span class="Common">CompareTo</span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Specific">;</span><span class="Specific">
                </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">compare</span><span class="Specific"> </span><span class="Specific">></span><span class="Specific"> </span><span class="Common">0</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">{</span><span class="Common">
                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">else</span><span class="Common">
                    </span><span class="Common">{</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Вставляем</span><span class="Specific"> </span><span class="Specific">слева</span><span class="Specific">
                        </span><span class="Specific">break</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">}</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Common">
                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">else</span><span class="Common">
                    </span><span class="Common">{</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Вставляем</span><span class="Specific"> </span><span class="Specific">справа</span><span class="Specific">
                        </span><span class="Specific">break</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">}</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Specific">

        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Метод</span><span class="Specific"> </span><span class="Specific">для</span><span class="Specific"> </span><span class="Specific">проверки</span><span class="Specific"> </span><span class="Specific">наличия</span><span class="Specific"> </span><span class="Specific">элемента</span><span class="Specific"> </span><span class="Specific">с</span><span class="Specific"> </span><span class="Specific">ключом</span><span class="Specific"> </span><span class="Specific">key</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">дереве</span><span class="Specific">
        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">bool</span><span class="Common"> </span><span class="Common">Contains</span><span class="Common">(</span><span class="Common">T</span><span class="Common"> </span><span class="Common">key</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">!</span><span class="Specific">initialized</span><span class="Specific">)</span><span class="Specific">
                </span><span class="Specific">return</span><span class="Specific"> </span><span class="Specific">false</span><span class="Specific">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Если</span><span class="Specific"> </span><span class="Specific">дерево</span><span class="Specific"> </span><span class="Specific">пустое</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">элемент</span><span class="Specific"> </span><span class="Specific">не</span><span class="Specific"> </span><span class="Specific">найден</span><span class="Specific">

            </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">this</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">true</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">int</span><span class="Common"> </span><span class="Common">compareResult</span><span class="Common"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">valueNode</span><span class="Specific">.</span><span class="Common">CompareTo</span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">
                </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Элемент</span><span class="Specific"> </span><span class="Specific">найден</span><span class="Specific">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">compareResult</span><span class="Common"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">0</span><span class="Common">)</span><span class="Common">
                    </span><span class="Common">return</span><span class="Common"> </span><span class="Common">true</span><span class="Common">;</span><span class="Common">

                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">compareResult</span><span class="Common"> </span><span class="Common">></span><span class="Common"> </span><span class="Common">0</span><span class="Common">)</span><span class="Specific">
                </span><span class="Specific">{</span><span class="Specific">
                    </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">parentNode</span><span class="Specific">.</span><span class="Specific">leftSon</span><span class="Specific"> </span><span class="Specific">!</span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Specific">)</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">else</span><span class="Specific">
                        </span><span class="Specific">return</span><span class="Specific"> </span><span class="Specific">false</span><span class="Specific">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Элемент</span><span class="Specific"> </span><span class="Specific">не</span><span class="Specific"> </span><span class="Specific">найден</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">левом</span><span class="Specific"> </span><span class="Specific">поддереве</span><span class="Specific">
                </span><span class="Specific">}</span><span class="Specific">
                </span><span class="Specific">else</span><span class="Specific">
                </span><span class="Specific">{</span><span class="Specific">
                    </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">parentNode</span><span class="Specific">.</span><span class="Specific">rightSon</span><span class="Specific"> </span><span class="Specific">!</span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Specific">)</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">else</span><span class="Specific">
                        </span><span class="Common">return</span><span class="Common"> </span><span class="Common">false</span><span class="Common">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Элемент</span><span class="Specific"> </span><span class="Specific">не</span><span class="Specific"> </span><span class="Specific">найден</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">правом</span><span class="Specific"> </span><span class="Specific">поддереве</span><span class="Specific">
                </span><span class="Common">}</span><span class="Specific">
            </span><span class="Specific">}</span><span class="Specific">
        </span><span class="Specific">}</span><span class="Specific">

        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Common"> </span><span class="Common">EnumeratorNode</span><span class="Common">(</span><span class="Specific">this</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">

        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">summary</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Рекурсивный</span><span class="Specific"> </span><span class="Specific">обход</span><span class="Specific"> </span><span class="Specific">бинарного</span><span class="Specific"> </span><span class="Specific">дерева</span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">summary</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">param</span><span class="Specific"> </span><span class="Specific">name</span><span class="Specific">=</span><span class="Specific">"</span><span class="Specific">root</span><span class="Specific">"</span><span class="Specific">></span><span class="Specific">Корень</span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">param</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">returns</span><span class="Specific">></span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">returns</span><span class="Specific">></span><span class="Specific">
        </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">EnumeratorNode</span><span class="Common">(</span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Не</span><span class="Specific"> </span><span class="Specific">инициализирован</span><span class="Specific">
            </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">root</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Specific"> </span><span class="Specific">|</span><span class="Specific">|</span><span class="Specific"> </span><span class="Specific">!</span><span class="Specific">root</span><span class="Specific">.</span><span class="Specific">initialized</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">break</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Рекурсивный</span><span class="Specific"> </span><span class="Specific">вызова</span><span class="Specific"> </span><span class="Specific">левого</span><span class="Specific"> </span><span class="Specific">потомка</span><span class="Specific">
            </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">enumeratorTreeNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">EnumeratorNode</span><span class="Common">(</span><span class="Specific">root</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">enumeratorTreeNode</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">enumeratorTreeNode</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">.</span><span class="Specific">valueNode</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Рекурсивный</span><span class="Specific"> </span><span class="Specific">вызов</span><span class="Specific"> </span><span class="Specific">правого</span><span class="Specific"> </span><span class="Specific">потомка</span><span class="Specific">
            </span><span class="Specific">enumeratorTreeNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">EnumeratorNode</span><span class="Common">(</span><span class="Specific">root</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">enumeratorTreeNode</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">enumeratorTreeNode</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">

        </span><span class="Common">IEnumerator</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common">.</span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">

        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">summary</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Получение</span><span class="Specific"> </span><span class="Specific">элементов</span><span class="Specific"> </span><span class="Specific">по</span><span class="Specific"> </span><span class="Specific">индексу</span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">summary</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">param</span><span class="Specific"> </span><span class="Specific">name</span><span class="Specific">=</span><span class="Specific">"</span><span class="Specific">i</span><span class="Specific">"</span><span class="Specific">></span><span class="Specific">Индекс</span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">param</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">returns</span><span class="Specific">></span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">returns</span><span class="Specific">></span><span class="Specific">
        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">this</span><span class="Common">[</span><span class="Common">int</span><span class="Common"> </span><span class="Common">i</span><span class="Common">]</span><span class="Common">
        </span><span class="Common">{</span><span class="Common">
            </span><span class="Common">get</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Common">current</span><span class="Common"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">this</span><span class="Common">;</span><span class="Specific">       </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Корневой</span><span class="Specific"> </span><span class="Specific">узел</span><span class="Specific">
                </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">parentWeight</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">0</span><span class="Common">;</span><span class="Specific">               </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Вес</span><span class="Specific"> </span><span class="Specific">родительского</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">0</span><span class="Specific">

                </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Common">true</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Индекс</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific"> </span><span class="Specific">относительно</span><span class="Specific"> </span><span class="Specific">его</span><span class="Specific"> </span><span class="Specific">родительского</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
                    </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">0</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">current</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                        </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">0</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">else</span><span class="Specific">
                        </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">current</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">.</span><span class="Specific">weight</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Common">+</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentWeight</span><span class="Common">;</span><span class="Common">

                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common">=</span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentNodeIndex</span><span class="Common">)</span><span class="Common">
                        </span><span class="Common">return</span><span class="Common"> </span><span class="Common">current</span><span class="Common">.</span><span class="Specific">valueNode</span><span class="Common">;</span><span class="Specific">   </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Вернуть</span><span class="Specific"> </span><span class="Specific">значение</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">если</span><span class="Specific"> </span><span class="Specific">индекс</span><span class="Specific"> </span><span class="Specific">совпадает</span><span class="Specific">

                    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Перемещаемся</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">левое</span><span class="Specific"> </span><span class="Specific">поддерево</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">если</span><span class="Specific"> </span><span class="Specific">индекс</span><span class="Specific"> </span><span class="Specific">меньше</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">индекса</span><span class="Specific">
                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common"><</span><span class="Specific"> </span><span class="Specific">currentNodeIndex</span><span class="Common">)</span><span class="Common">
                        </span><span class="Common">current</span><span class="Common"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">current</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">else</span><span class="Common">
                    </span><span class="Common">{</span><span class="Specific">
                        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Перемещаемся</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">правое</span><span class="Specific"> </span><span class="Specific">поддерево</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">обновляем</span><span class="Specific"> </span><span class="Specific">вес</span><span class="Specific"> </span><span class="Specific">родительского</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
                        </span><span class="Common">current</span><span class="Common"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">current</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Common">;</span><span class="Specific">
                        </span><span class="Specific">parentWeight</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Common">+</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">}</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">}</span><span class="Specific">
</span><span class="Specific">}</span><span class="Specific">
</span></td><td><span class="Common">using</span><span class="Specific"> </span><span class="Specific">NUnit</span><span class="Specific">.</span><span class="Specific">Framework</span><span class="Specific">.</span><span class="Specific">Constraints</span><span class="Specific">;</span><span class="Specific">
</span><span class="Specific">using</span><span class="Specific"> </span><span class="Common">System</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">.</span><span class="Common">Generic</span><span class="Common">;</span><span class="Specific">
</span><span class="Specific">using</span><span class="Specific"> </span><span class="Specific">System</span><span class="Specific">.</span><span class="Specific">Xml</span><span class="Specific">.</span><span class="Specific">Linq</span><span class="Specific">;</span><span class="Specific">

</span><span class="Common">namespace</span><span class="Common"> </span><span class="Common">BinaryTrees</span><span class="Specific">;</span><span class="Specific">
</span><span class="Common">public</span><span class="Common"> </span><span class="Common">class</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">where</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IComparable</span><span class="Common">
</span><span class="Common">{</span><span class="Specific">

    </span><span class="Specific">public</span><span class="Specific"> </span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">Value</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Specific">get</span><span class="Common">;</span><span class="Specific"> </span><span class="Specific">set</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Specific">public</span><span class="Specific"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">LeftSon</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Specific">get</span><span class="Common">;</span><span class="Specific"> </span><span class="Specific">set</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Specific">public</span><span class="Specific"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Specific">get</span><span class="Common">;</span><span class="Specific"> </span><span class="Specific">set</span><span class="Common">;</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Specific">public</span><span class="Specific"> </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">Length</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Specific">get</span><span class="Common">;</span><span class="Specific"> </span><span class="Specific">set</span><span class="Specific">;</span><span class="Specific"> </span><span class="Specific">}</span><span class="Specific">
    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Common"> </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common">(</span><span class="Common">T</span><span class="Common"> </span><span class="Common">value</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Specific">
        </span><span class="Specific">Value</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">value</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">LeftSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Specific">;</span><span class="Specific">
        </span><span class="Specific">Length</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">1</span><span class="Specific">;</span><span class="Specific">
    </span><span class="Common">}</span><span class="Specific">

    </span><span class="Specific">private</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">init</span><span class="Specific">;</span><span class="Specific">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">void</span><span class="Common"> </span><span class="Common">Add</span><span class="Common">(</span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">value</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">init</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">init</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">new</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific">(</span><span class="Specific">value</span><span class="Specific">)</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">return</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">

        </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">init</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Specific"> </span><span class="Specific">!</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">Length</span><span class="Common">+</span><span class="Common">+</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">Value</span><span class="Common">.</span><span class="Common">CompareTo</span><span class="Common">(</span><span class="Specific">value</span><span class="Common">)</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific"> </span><span class="Common">0</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common">(</span><span class="Specific">value</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">return</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">else</span><span class="Common">
            </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common">(</span><span class="Specific">value</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">return</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">bool</span><span class="Common"> </span><span class="Common">Contains</span><span class="Common">(</span><span class="Common">T</span><span class="Common"> </span><span class="Common">key</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">init</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Specific"> </span><span class="Specific">!</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Common">
            </span><span class="Common">int</span><span class="Common"> </span><span class="Common">compareResult</span><span class="Common"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">key</span><span class="Common">.</span><span class="Common">CompareTo</span><span class="Common">(</span><span class="Specific">current</span><span class="Specific">.</span><span class="Specific">Value</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

            </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">compareResult</span><span class="Common"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">0</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">return</span><span class="Common"> </span><span class="Common">true</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">else</span><span class="Specific"> </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">compareResult</span><span class="Common"> </span><span class="Common">></span><span class="Common"> </span><span class="Common">0</span><span class="Common">)</span><span class="Specific">
                </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">else</span><span class="Specific">
                </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">}</span><span class="Specific">

        </span><span class="Common">return</span><span class="Common"> </span><span class="Common">false</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Common"> </span><span class="Common">EnumeratorNode</span><span class="Common">(</span><span class="Specific">init</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">
    </span><span class="Specific">private</span><span class="Specific"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">EnumeratorNode</span><span class="Common">(</span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">Node</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">Node</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">break</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">EnumeratorNode</span><span class="Common">(</span><span class="Specific">Node</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">right</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">right</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Common">.</span><span class="Specific">Value</span><span class="Common">;</span><span class="Specific">

        </span><span class="Specific">var</span><span class="Specific"> </span><span class="Specific">left</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">EnumeratorNode</span><span class="Common">(</span><span class="Specific">Node</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">left</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">left</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">IEnumerator</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common">.</span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">this</span><span class="Common">[</span><span class="Common">int</span><span class="Common"> </span><span class="Common">i</span><span class="Common">]</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">get</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">var</span><span class="Specific"> </span><span class="Common">current</span><span class="Common"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">init</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">currentLength</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">0</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">currentIndex</span><span class="Specific">;</span><span class="Specific">

            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Common">true</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                    </span><span class="Specific">currentIndex</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentLength</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Specific">
                    </span><span class="Specific">currentIndex</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">.</span><span class="Specific">Length</span><span class="Specific"> </span><span class="Common">+</span><span class="Specific"> </span><span class="Specific">currentLength</span><span class="Common">;</span><span class="Common">

                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common">=</span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentIndex</span><span class="Common">)</span><span class="Common">
                    </span><span class="Common">return</span><span class="Common"> </span><span class="Common">current</span><span class="Common">.</span><span class="Specific">Value</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common"><</span><span class="Specific"> </span><span class="Specific">currentIndex</span><span class="Common">)</span><span class="Common">
                    </span><span class="Common">current</span><span class="Common"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">current</span><span class="Common">.</span><span class="Specific">RightSon</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Common">
                    </span><span class="Common">current</span><span class="Common"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">current</span><span class="Common">.</span><span class="Specific">LeftSon</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">currentLength</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentIndex</span><span class="Specific"> </span><span class="Common">+</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">
</span><span class="Common">}</span><span class="Specific">
</span></td></tr><tr><th>a</th><th>j</th></tr><tr><td><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">.</span><span class="Common">Generic</span><span class="Common">;</span><span class="Common">

</span><span class="Common">namespace</span><span class="Common"> </span><span class="Common">BinaryTrees</span><span class="Specific">
</span><span class="Specific">{</span><span class="Specific">
    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">class</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">where</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IComparable</span><span class="Common">
    </span><span class="Common">{</span><span class="Specific">
        </span><span class="Specific">private</span><span class="Specific"> </span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">valueNode</span><span class="Common">;</span><span class="Specific">               </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Значение</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
        </span><span class="Specific">private</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">leftSon</span><span class="Common">;</span><span class="Specific">     </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Левый</span><span class="Specific"> </span><span class="Specific">потомок</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
        </span><span class="Specific">private</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">rightSon</span><span class="Specific">;</span><span class="Specific">    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Правый</span><span class="Specific"> </span><span class="Specific">потомок</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
        </span><span class="Specific">private</span><span class="Specific"> </span><span class="Specific">bool</span><span class="Specific"> </span><span class="Specific">initialized</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">false</span><span class="Common">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Флаг</span><span class="Specific"> </span><span class="Specific">инициализации</span><span class="Specific"> </span><span class="Specific">дерева</span><span class="Specific">

        </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">weight</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Specific">                    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Номер</span><span class="Specific"> </span><span class="Specific">элемента</span><span class="Specific">

        </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific">(</span><span class="Specific">)</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific"> </span><span class="Common">}</span><span class="Specific">
        </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific">(</span><span class="Specific">T</span><span class="Specific"> </span><span class="Specific">value</span><span class="Specific">)</span><span class="Specific">
        </span><span class="Specific">{</span><span class="Specific">
            </span><span class="Specific">valueNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">value</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">initialized</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">true</span><span class="Specific">;</span><span class="Specific">
        </span><span class="Specific">}</span><span class="Specific">

        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Добавление</span><span class="Specific"> </span><span class="Specific">нового</span><span class="Specific"> </span><span class="Specific">элемента</span><span class="Specific"> </span><span class="Specific">с</span><span class="Specific"> </span><span class="Specific">ключом</span><span class="Specific"> </span><span class="Specific">key</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">дерево</span><span class="Specific">
        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">void</span><span class="Common"> </span><span class="Common">Add</span><span class="Common">(</span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">key</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Common">
            </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">!</span><span class="Specific">initialized</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">valueNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">key</span><span class="Common">;</span><span class="Specific">    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Если</span><span class="Specific"> </span><span class="Specific">дерево</span><span class="Specific"> </span><span class="Specific">не</span><span class="Specific"> </span><span class="Specific">инициализировано</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">создаем</span><span class="Specific"> </span><span class="Specific">корневой</span><span class="Specific"> </span><span class="Specific">узел</span><span class="Specific">
                </span><span class="Specific">initialized</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">true</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">return</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">}</span><span class="Specific">

            </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">this</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Поиск</span><span class="Specific"> </span><span class="Specific">места</span><span class="Specific"> </span><span class="Specific">для</span><span class="Specific"> </span><span class="Specific">вставки</span><span class="Specific">
            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">true</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">weight</span><span class="Common">+</span><span class="Common">+</span><span class="Common">;</span><span class="Specific">            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Увеличение</span><span class="Specific"> </span><span class="Specific">номера</span><span class="Specific"> </span><span class="Specific">элемента</span><span class="Specific">

                </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">compare</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">valueNode</span><span class="Common">.</span><span class="Common">CompareTo</span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Specific">;</span><span class="Specific">
                </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">compare</span><span class="Specific"> </span><span class="Specific">></span><span class="Specific"> </span><span class="Common">0</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">{</span><span class="Common">
                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">else</span><span class="Common">
                    </span><span class="Common">{</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Вставляем</span><span class="Specific"> </span><span class="Specific">слева</span><span class="Specific">
                        </span><span class="Common">break</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">}</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Common">
                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">else</span><span class="Common">
                    </span><span class="Common">{</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Вставляем</span><span class="Specific"> </span><span class="Specific">справа</span><span class="Specific">
                        </span><span class="Common">break</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">}</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Specific">

        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Метод</span><span class="Specific"> </span><span class="Specific">для</span><span class="Specific"> </span><span class="Specific">проверки</span><span class="Specific"> </span><span class="Specific">наличия</span><span class="Specific"> </span><span class="Specific">элемента</span><span class="Specific"> </span><span class="Specific">с</span><span class="Specific"> </span><span class="Specific">ключом</span><span class="Specific"> </span><span class="Specific">key</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">дереве</span><span class="Specific">
        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">bool</span><span class="Common"> </span><span class="Common">Contains</span><span class="Common">(</span><span class="Common">T</span><span class="Common"> </span><span class="Common">key</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">!</span><span class="Specific">initialized</span><span class="Specific">)</span><span class="Specific">
                </span><span class="Specific">return</span><span class="Specific"> </span><span class="Specific">false</span><span class="Specific">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Если</span><span class="Specific"> </span><span class="Specific">дерево</span><span class="Specific"> </span><span class="Specific">пустое</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">элемент</span><span class="Specific"> </span><span class="Specific">не</span><span class="Specific"> </span><span class="Specific">найден</span><span class="Specific">

            </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">this</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">true</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">int</span><span class="Specific"> </span><span class="Specific">compareResult</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">valueNode</span><span class="Common">.</span><span class="Specific">CompareTo</span><span class="Common">(</span><span class="Common">key</span><span class="Common">)</span><span class="Specific">;</span><span class="Specific">
                </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Элемент</span><span class="Specific"> </span><span class="Specific">найден</span><span class="Specific">
                </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">compareResult</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">0</span><span class="Common">)</span><span class="Common">
                    </span><span class="Common">return</span><span class="Common"> </span><span class="Common">true</span><span class="Common">;</span><span class="Specific">

                </span><span class="Specific">if</span><span class="Specific"> </span><span class="Common">(</span><span class="Specific">compareResult</span><span class="Specific"> </span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">0</span><span class="Specific">)</span><span class="Specific">
                </span><span class="Specific">{</span><span class="Specific">
                    </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Specific"> </span><span class="Specific">!</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Specific">)</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Specific">else</span><span class="Specific">
                        </span><span class="Specific">return</span><span class="Specific"> </span><span class="Specific">false</span><span class="Specific">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Элемент</span><span class="Specific"> </span><span class="Specific">не</span><span class="Specific"> </span><span class="Specific">найден</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">левом</span><span class="Specific"> </span><span class="Specific">поддереве</span><span class="Specific">
                </span><span class="Specific">}</span><span class="Specific">
                </span><span class="Specific">else</span><span class="Specific">
                </span><span class="Specific">{</span><span class="Specific">
                    </span><span class="Specific">if</span><span class="Specific"> </span><span class="Common">(</span><span class="Specific">parentNode</span><span class="Specific">.</span><span class="Specific">rightSon</span><span class="Specific"> </span><span class="Specific">!</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">)</span><span class="Specific">
                        </span><span class="Specific">parentNode</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentNode</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">else</span><span class="Specific">
                        </span><span class="Common">return</span><span class="Common"> </span><span class="Common">false</span><span class="Common">;</span><span class="Specific">  </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Элемент</span><span class="Specific"> </span><span class="Specific">не</span><span class="Specific"> </span><span class="Specific">найден</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">правом</span><span class="Specific"> </span><span class="Specific">поддереве</span><span class="Specific">
                </span><span class="Common">}</span><span class="Specific">
            </span><span class="Specific">}</span><span class="Specific">
        </span><span class="Specific">}</span><span class="Specific">

        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">EnumeratorNode</span><span class="Common">(</span><span class="Specific">this</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">

        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">summary</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Рекурсивный</span><span class="Specific"> </span><span class="Specific">обход</span><span class="Specific"> </span><span class="Specific">бинарного</span><span class="Specific"> </span><span class="Specific">дерева</span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">summary</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">param</span><span class="Specific"> </span><span class="Specific">name</span><span class="Specific">=</span><span class="Specific">"</span><span class="Specific">root</span><span class="Specific">"</span><span class="Specific">></span><span class="Specific">Корень</span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">param</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">returns</span><span class="Specific">></span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">returns</span><span class="Specific">></span><span class="Specific">
        </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">EnumeratorNode</span><span class="Common">(</span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">)</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Не</span><span class="Specific"> </span><span class="Specific">инициализирован</span><span class="Specific">
            </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">root</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Specific"> </span><span class="Specific">|</span><span class="Specific">|</span><span class="Specific"> </span><span class="Specific">!</span><span class="Specific">root</span><span class="Specific">.</span><span class="Specific">initialized</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">break</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Рекурсивный</span><span class="Specific"> </span><span class="Specific">вызова</span><span class="Specific"> </span><span class="Specific">левого</span><span class="Specific"> </span><span class="Specific">потомка</span><span class="Specific">
            </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">enumeratorTreeNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">EnumeratorNode</span><span class="Common">(</span><span class="Specific">root</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">enumeratorTreeNode</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">enumeratorTreeNode</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">.</span><span class="Specific">valueNode</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Рекурсивный</span><span class="Specific"> </span><span class="Specific">вызов</span><span class="Specific"> </span><span class="Specific">правого</span><span class="Specific"> </span><span class="Specific">потомка</span><span class="Specific">
            </span><span class="Specific">enumeratorTreeNode</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">EnumeratorNode</span><span class="Common">(</span><span class="Specific">root</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">enumeratorTreeNode</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">enumeratorTreeNode</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">

        </span><span class="Common">IEnumerator</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common">.</span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">

        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">summary</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Получение</span><span class="Specific"> </span><span class="Specific">элементов</span><span class="Specific"> </span><span class="Specific">по</span><span class="Specific"> </span><span class="Specific">индексу</span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">summary</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">param</span><span class="Specific"> </span><span class="Specific">name</span><span class="Specific">=</span><span class="Specific">"</span><span class="Specific">i</span><span class="Specific">"</span><span class="Specific">></span><span class="Specific">Индекс</span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">param</span><span class="Specific">></span><span class="Specific">
        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific">returns</span><span class="Specific">></span><span class="Specific"><</span><span class="Specific">/</span><span class="Specific">returns</span><span class="Specific">></span><span class="Specific">
        </span><span class="Common">public</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">this</span><span class="Common">[</span><span class="Common">int</span><span class="Common"> </span><span class="Common">i</span><span class="Common">]</span><span class="Common">
        </span><span class="Common">{</span><span class="Common">
            </span><span class="Common">get</span><span class="Common">
            </span><span class="Common">{</span><span class="Specific">
                </span><span class="Specific">BinaryTree</span><span class="Specific"><</span><span class="Specific">T</span><span class="Specific">></span><span class="Specific"> </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">this</span><span class="Common">;</span><span class="Specific">       </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Корневой</span><span class="Specific"> </span><span class="Specific">узел</span><span class="Specific">
                </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">parentWeight</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">0</span><span class="Common">;</span><span class="Specific">               </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Вес</span><span class="Specific"> </span><span class="Specific">родительского</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">0</span><span class="Specific">

                </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Common">true</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Индекс</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific"> </span><span class="Specific">относительно</span><span class="Specific"> </span><span class="Specific">его</span><span class="Specific"> </span><span class="Specific">родительского</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
                    </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">0</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Specific">if</span><span class="Specific"> </span><span class="Common">(</span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Specific">)</span><span class="Specific">
                        </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Common">0</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Specific">else</span><span class="Specific">
                        </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">.</span><span class="Specific">weight</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Common">+</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">parentWeight</span><span class="Common">;</span><span class="Common">

                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common">=</span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentNodeIndex</span><span class="Common">)</span><span class="Common">
                        </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">valueNode</span><span class="Common">;</span><span class="Specific">   </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Вернуть</span><span class="Specific"> </span><span class="Specific">значение</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">если</span><span class="Specific"> </span><span class="Specific">индекс</span><span class="Specific"> </span><span class="Specific">совпадает</span><span class="Specific">

                    </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Перемещаемся</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">левое</span><span class="Specific"> </span><span class="Specific">поддерево</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">если</span><span class="Specific"> </span><span class="Specific">индекс</span><span class="Specific"> </span><span class="Specific">меньше</span><span class="Specific"> </span><span class="Specific">текущего</span><span class="Specific"> </span><span class="Specific">индекса</span><span class="Specific">
                    </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common"><</span><span class="Specific"> </span><span class="Specific">currentNodeIndex</span><span class="Common">)</span><span class="Specific">
                        </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">leftSon</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">else</span><span class="Common">
                    </span><span class="Common">{</span><span class="Specific">
                        </span><span class="Specific">/</span><span class="Specific">/</span><span class="Specific"> </span><span class="Specific">Перемещаемся</span><span class="Specific"> </span><span class="Specific">в</span><span class="Specific"> </span><span class="Specific">правое</span><span class="Specific"> </span><span class="Specific">поддерево</span><span class="Specific">,</span><span class="Specific"> </span><span class="Specific">обновляем</span><span class="Specific"> </span><span class="Specific">вес</span><span class="Specific"> </span><span class="Specific">родительского</span><span class="Specific"> </span><span class="Specific">узла</span><span class="Specific">
                        </span><span class="Specific">current</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">current</span><span class="Common">.</span><span class="Specific">rightSon</span><span class="Common">;</span><span class="Specific">
                        </span><span class="Specific">parentWeight</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">currentNodeIndex</span><span class="Specific"> </span><span class="Common">+</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
                    </span><span class="Common">}</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">}</span><span class="Specific">
</span><span class="Specific">}</span><span class="Specific">
</span></td><td><span class="Common">using</span><span class="Specific"> </span><span class="Specific">NUnit</span><span class="Specific">.</span><span class="Specific">Framework</span><span class="Specific">.</span><span class="Specific">Constraints</span><span class="Specific">;</span><span class="Specific">
</span><span class="Specific">using</span><span class="Specific"> </span><span class="Common">System</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">;</span><span class="Common">
</span><span class="Common">using</span><span class="Common"> </span><span class="Common">System</span><span class="Common">.</span><span class="Common">Collections</span><span class="Common">.</span><span class="Common">Generic</span><span class="Common">;</span><span class="Specific">
</span><span class="Specific">using</span><span class="Specific"> </span><span class="Specific">System</span><span class="Specific">.</span><span class="Specific">Xml</span><span class="Specific">.</span><span class="Specific">Linq</span><span class="Specific">;</span><span class="Specific">

</span><span class="Common">namespace</span><span class="Common"> </span><span class="Common">BinaryTrees</span><span class="Specific">;</span><span class="Specific">

</span><span class="Common">public</span><span class="Common"> </span><span class="Common">class</span><span class="Common"> </span><span class="Common">BinaryTree</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">where</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">:</span><span class="Common"> </span><span class="Common">IComparable</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
    </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">class</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific">
        </span><span class="Specific">public</span><span class="Specific"> </span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">value</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Specific"> </span><span class="Specific">left</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">public</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Specific"> </span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">public</span><span class="Specific"> </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">len</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Specific">

    </span><span class="Specific">Node</span><span class="Specific"> </span><span class="Specific">root</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">;</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">void</span><span class="Common"> </span><span class="Common">Add</span><span class="Common">(</span><span class="Common">T</span><span class="Specific"> </span><span class="Specific">node</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">root</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">root</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">new</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Specific">(</span><span class="Specific">)</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">root</span><span class="Specific">.</span><span class="Specific">value</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">node</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">return</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">}</span><span class="Specific">

        </span><span class="Specific">var</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Specific"> </span><span class="Specific">!</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">len</span><span class="Common">+</span><span class="Common">+</span><span class="Common">;</span><span class="Specific">
            </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Common">.</span><span class="Common">CompareTo</span><span class="Common">(</span><span class="Specific">node</span><span class="Common">)</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific"> </span><span class="Common">0</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Common">;</span><span class="Specific">
                </span><span class="Specific">}</span><span class="Specific"> </span><span class="Common">else</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Common">(</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific">.</span><span class="Specific">left</span><span class="Specific">.</span><span class="Specific">value</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">node</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Common">break</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common"> </span><span class="Common">else</span><span class="Common"> </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">!</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Specific"> </span><span class="Specific">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Common">;</span><span class="Specific">
                </span><span class="Specific">}</span><span class="Specific"> </span><span class="Common">else</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">new</span><span class="Specific"> </span><span class="Specific">Node</span><span class="Common">(</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific">.</span><span class="Specific">right</span><span class="Specific">.</span><span class="Specific">value</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">node</span><span class="Specific">;</span><span class="Specific">
                    </span><span class="Common">break</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">bool</span><span class="Common"> </span><span class="Common">Contains</span><span class="Common">(</span><span class="Common">T</span><span class="Common"> </span><span class="Common">key</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
        </span><span class="Specific">var</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Specific"> </span><span class="Specific">!</span><span class="Specific">=</span><span class="Specific"> </span><span class="Specific">null</span><span class="Common">)</span><span class="Common"> </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">if</span><span class="Specific"> </span><span class="Specific">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Common">.</span><span class="Specific">Equals</span><span class="Common">(</span><span class="Common">key</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
                </span><span class="Common">return</span><span class="Common"> </span><span class="Common">true</span><span class="Common">;</span><span class="Specific">

            </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Specific">=</span><span class="Specific"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Common">.</span><span class="Specific">CompareTo</span><span class="Common">(</span><span class="Specific">key</span><span class="Common">)</span><span class="Specific"> </span><span class="Specific"><</span><span class="Specific"> </span><span class="Specific">0</span><span class="Specific"> </span><span class="Specific">?</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Specific"> </span><span class="Specific">:</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Specific">.</span><span class="Specific">right</span><span class="Specific">)</span><span class="Common">;</span><span class="Specific">
        </span><span class="Specific">}</span><span class="Specific">
        </span><span class="Common">return</span><span class="Common"> </span><span class="Common">false</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">GetEnumerator</span><span class="Common">(</span><span class="Specific">root</span><span class="Common">)</span><span class="Common">;</span><span class="Specific">
    </span><span class="Specific">private</span><span class="Specific"> </span><span class="Common">IEnumerator</span><span class="Common"><</span><span class="Common">T</span><span class="Common">></span><span class="Specific"> </span><span class="Specific">GetEnumerator</span><span class="Common">(</span><span class="Specific">Node</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">)</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">break</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">var</span><span class="Specific"> </span><span class="Specific">r</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">GetEnumerator</span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">r</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">r</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">

        </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Common">;</span><span class="Specific">

        </span><span class="Specific">var</span><span class="Specific"> </span><span class="Specific">l</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">GetEnumerator</span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Common">)</span><span class="Common">;</span><span class="Common">
        </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">l</span><span class="Common">.</span><span class="Common">MoveNext</span><span class="Common">(</span><span class="Common">)</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">yield</span><span class="Common"> </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">l</span><span class="Common">.</span><span class="Common">Current</span><span class="Common">;</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">IEnumerator</span><span class="Common"> </span><span class="Common">IEnumerable</span><span class="Common">.</span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common"> </span><span class="Common">=</span><span class="Common">></span><span class="Common"> </span><span class="Common">GetEnumerator</span><span class="Common">(</span><span class="Common">)</span><span class="Common">;</span><span class="Common">

    </span><span class="Common">public</span><span class="Common"> </span><span class="Common">T</span><span class="Common"> </span><span class="Common">this</span><span class="Common">[</span><span class="Common">int</span><span class="Common"> </span><span class="Common">i</span><span class="Common">]</span><span class="Common">
    </span><span class="Common">{</span><span class="Common">
        </span><span class="Common">get</span><span class="Common">
        </span><span class="Common">{</span><span class="Specific">
            </span><span class="Specific">var</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">root</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">cur_len</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">0</span><span class="Common">;</span><span class="Common">
            </span><span class="Common">while</span><span class="Common"> </span><span class="Common">(</span><span class="Common">true</span><span class="Common">)</span><span class="Common">
            </span><span class="Common">{</span><span class="Common">
                </span><span class="Common">int</span><span class="Specific"> </span><span class="Specific">cur_index</span><span class="Specific"> </span><span class="Common">=</span><span class="Common"> </span><span class="Common">(</span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Specific"> </span><span class="Common">=</span><span class="Common">=</span><span class="Common"> </span><span class="Common">null</span><span class="Specific"> </span><span class="Specific">?</span><span class="Specific"> </span><span class="Common">0</span><span class="Specific"> </span><span class="Specific">:</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Common">.</span><span class="Specific">len</span><span class="Specific">)</span><span class="Specific"> </span><span class="Common">+</span><span class="Specific"> </span><span class="Specific">cur_len</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common">=</span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur_index</span><span class="Common">)</span><span class="Common">
                    </span><span class="Common">return</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">value</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">if</span><span class="Common"> </span><span class="Common">(</span><span class="Common">i</span><span class="Common"> </span><span class="Common"><</span><span class="Specific"> </span><span class="Specific">cur_index</span><span class="Common">)</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">right</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">else</span><span class="Common">
                </span><span class="Common">{</span><span class="Specific">
                    </span><span class="Specific">cur</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur</span><span class="Common">.</span><span class="Specific">left</span><span class="Common">;</span><span class="Specific">
                    </span><span class="Specific">cur_len</span><span class="Specific"> </span><span class="Common">=</span><span class="Specific"> </span><span class="Specific">cur_index</span><span class="Specific"> </span><span class="Common">+</span><span class="Common"> </span><span class="Common">1</span><span class="Common">;</span><span class="Common">
                </span><span class="Common">}</span><span class="Common">
            </span><span class="Common">}</span><span class="Common">
        </span><span class="Common">}</span><span class="Common">
    </span><span class="Common">}</span><span class="Common">
</span><span class="Common">}</span></td></tr></table></pre></body></html>
